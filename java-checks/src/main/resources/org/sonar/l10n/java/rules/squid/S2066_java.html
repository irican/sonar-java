<p>序列化非<code>static</code> 内部类将导致尝试序列化外部类。 如果外部类不可序列化，则序列化将失败，从而导致运行时错误。 </p>
<p>使内部类 <code>static</code> （即“嵌套”）避免了这个问题，因此如果可能的话，内部类应该是 <code>static</code> 。 
但是，您应该知道内部类和嵌套类之间存在语义差异： </p>
<ul>
  <li> 内部类只能在外部类的实例的上下文中实例化。 </li>
  <li> 嵌套（<code>static</code>）类可以独立于外部类进行实例化。 </li>
</ul>
<h2>不合规的代码示例</h2>
<pre>
public class Pomegranate {
  // ...

  public class Seed implements Serializable {  // 不合规； 序列化将失败
    // ...
  }
}
</pre>
<h2>合规的解决方案</h2>
<pre>
public class Pomegranate {
  // ...

  public static class Seed implements Serializable {
    // ...
  }
}
</pre>
<h2>请参阅</h2>
<ul>
  <li> <a href="https://www.securecoding.cert.org/confluence/x/O4CpAQ">CERT SER05-J.</a> - Do not serialize instances of inner classes </li>
</ul>

