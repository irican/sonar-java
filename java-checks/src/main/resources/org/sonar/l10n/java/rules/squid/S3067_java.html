<p><code>getClass</code> 不应用于非 <code>final</code> 类中的同步，因为尽管 <code>synchronized</code> 关键字允许多个线程
同时进入代码块，但子类会在与它的父类或彼此不同的对象上同步。</p>
<p>因此，应将同步的类的名称硬编码，或者将该类设为 <code>final</code>。</p>
<h2>不合规的代码示例</h2>
<pre>
public class MyClass {
  public void doSomethingSynchronized(){
    synchronized (this.getClass()) {  // 不合规
      // ……
    }
  }
</pre>
<h2>合规的解决方案</h2>
<pre>
public class MyClass {
  public void doSomethingSynchronized(){
    synchronized (MyClass.class) {
      // ……
    }
  }
</pre>
<h2>请参阅</h2>
<ul>
  <li> <a href="https://www.securecoding.cert.org/confluence/x/bwCaAg">CERT, LCK02-J.</a> - Do not synchronize on the class object returned by
  getClass() </li>
</ul>

