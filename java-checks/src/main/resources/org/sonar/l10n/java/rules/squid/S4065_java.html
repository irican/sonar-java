<p>Java 8引入了<code> ThreadLocal.withInitial </code>，它是创建匿名内部类以初始化a的更简单的替代方法。
<code>ThreadLocal</code> 实例。</p>
<p>当<code> ThreadLocal </code>匿名内部类可以被调用替换时，此规则引发了一个问题
<code>ThreadLocal.withInitial</code>.</p>
<h2>不合规的代码示例</h2>
<pre>
ThreadLocal&lt;List&lt;String&gt;&gt; myThreadLocal =
    new ThreadLocal&lt;List&lt;String&gt;&gt;() { // 不合规的
        @Override
        protected List&lt;String&gt; initialValue() {
            return new ArrayList&lt;String&gt;();
        }
    };
</pre>
<h2>合规解决方案</h2>
<pre>
ThreadLocal&lt;List&lt;String&gt;&gt; myThreadLocal = ThreadLocal.withInitial(ArrayList::new);
</pre>

