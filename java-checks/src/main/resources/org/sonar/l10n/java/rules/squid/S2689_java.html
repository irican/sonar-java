<p><code>ObjectOutputStream</code>用于序列化，而 <code>ObjectOutputStream</code> 编写的第一件事是序列化流头。这个头文件应该在每个文件的开头出现一次。
将以追加模式打开的文件传递到<code>ObjectOutputStream</code> 构造函数中，序列化流头将被添加到文件的末尾，然后才追加对象。</p>
<p>当您试图从文件中读取对象时，只会成功读取第一个对象，然后会抛出一个<code>StreamCorruptedException</code>。</p>
<h2>不合规的代码示例</h2>
<pre>
FileOutputStream fos = new FileOutputStream (fileName , true);  // fos以追加模式打开
ObjectOutputStream out = new ObjectOutputStream(fos);  // 不合规
</pre>
<h2>合规的解决方案</h2>
<pre>
FileOutputStream fos = new FileOutputStream (fileName);
ObjectOutputStream out = new ObjectOutputStream(fos);
</pre>

